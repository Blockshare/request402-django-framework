<!--
  ____  _            _     ____  _                      ___ ___  
 | __ )| | ___   ___| | __/ ___|| |__   __ _ _ __ ___  |_ _/ _ \ 
 |  _ \| |/ _ \ / __| |/ /\___ \| '_ \ / _` | '__/ _ \  | | | | |
 | |_) | | (_) | (__|   <  ___) | | | | (_| | | |  __/_ | | |_| |
 |____/|_|\___/ \___|_|\_\|____/|_| |_|\__,_|_|  \___(_)___\___/ 
-->

<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="HTTP(S) Request & Response API for your Digital Assets using Bitcoin Micropayments.">
    <title>Request402 - Access Your Domain Data with Bitcoin Micropayments</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>
    <style type="text/css">
      * {
        margin: 0;
        padding: 0;
      }
      body {
        font: 15px/1.5 'Open Sans', sans-serif;
      }
      body,
      a {
        color: #282828;
        text-decoration: none;
      }
      .wrapper {
        margin: 0 auto;
        max-width: 600px;
        padding: 10px;
      }
      header {
        padding-top: 2em;
        padding-bottom: 1em;
        text-align: center;
      }
      header h1 {
        font: bold 45px/1.5 'Open Sans', sans-serif;
      }
      header h2 {
        font: normal 30px/1.5 'Open Sans', sans-serif;
      }
      header img {
        display: block;
        height: 150px;
        margin-left: auto;
        margin-right: auto;
        width: 150px;
      }
      .status {
        border-spacing: 0;
        margin: 0 auto 30px;
        text-align: center;
        width: 100%;
      }
      .status th:not(:last-child),
      .status td:not(:last-child) {
        border-right: 1px solid #d8d8d8;
      }
      .status th {
        color: #ddd;
        font-weight: normal;
      }
      th {
        font-weight: normal;
      }
      .status td {
        font-size: 19px;
      }
      h3, p {
        padding-bottom: 1em;
      }
      h3 {
        font-size: 19px;
        padding-top: 1em;
      }
      code {
        background: #fff;
        border: 1px solid #d8d8d8;
        display: block;
        font-size: 11px;
        margin-bottom: 2em;
        padding: 1em;
      }
      code.request:hover {
        cursor: pointer;
      }
      code.request a:hover {
        text-decoration: underline;
      }
      code.request:before {
        color: #006ce1;
        content: 'GET ';
      }
      code.js {
        white-space: pre;
        white-space-collapse: discard;
      }
      code.js:hover {
        cursor: pointer;
      }
      ol {
        padding-top: 10px;
        padding-left: 24px;
        border-top: 1px solid #aaa;
        font-size: 12px;
      }
      footer {
        margin: 2em 0;
        text-align: center;
      }
      #inner-code, code {
        border-radius:2px;
        white-space:pre-wrap;
        background-color:#e6e6e6;
      }
    </style>
  </head>
  <link rel="shortcut icon" alt="Request402 Logo" href="//machine-payable.herokuapp.com/static/img/heartbeat.ico" />
  <body>
    <div class="wrapper">
      <header>
        <h1>Request402</h1>
        <h2>Domain Data that's Plain & Simple.</h2>
        <img alt="logo" alt="Request402 Logo" src="//machine-payable.herokuapp.com/static/img/heartbeat.ico">
      </header>

      <section>
      <center>
        <h3>
          HTTP(S) Request & Response API for your Digital Assets.<br> Easily access JSON output with Bitcoin Micropayments.
        </h3>
      <h4>Hosted in <a href="http://www.request402.com">HTTP<a/> + <a href="https://www.request402.com">HTTPS</a><h4>
      <h4>created and maintained by <a href="//21.co/cponeillmain">cponeill</a></h4>
      </center><br />
        <h4>Basic Requirements:</h4>
          <center><table>
            <tr>
              <th><b>1.  </b></th>
              <th align="left">A <a href="https://21.co/features/">21 Bitcoin Computer</a> or the 21 free client and Python 3 installed.</th>
            </tr>
            <tr>
              <th><b>2.  </b></th>
              <th align="left">Connected to the 21 Zerotier Marketplace.</th>
            </tr>
            <tr>
              <th><b>3.  </b></th>
              <th align"left">Make sure you have enough Bitcoin in your wallet for simple transactions.</th>
            </tr>
          </table><br />
         </center>
        <h3>How to use in the command line:</h3>
        <h4>All endpoints cost 5 - 2500 satoshis</h4><br>
        <p>
          Get the origin of your IP address.
        </p>
        <!--googleoff: all-->
        <code>Cost: Free<br><a href="/ip?format=json">$ 21 buy https://www.request402.com/ip</a><br />
{ 
  "origin": xxx.xxx.x.xx
}</code>
        <!--googleon: all-->
        <p>
          Return GET header data of your IP.
        </p>
        <code><a href="/get?format=json">$ 21 buy https://www.request402.com/get</a><br />
{
  "headers": {
      "User-Agent": "xxxxxx",
      "HTTP-Host": "www.xxxxxx.com",
      "Accept": "*/*",
      "Encoding": "gzip"
  },
  "origin": "xxx.xxx.xx.xxx"
}        
</code>
        <p>
          Return your header and server location data.
        </p>
        <code><a href="/server-location?format=json">$ 21 buy https://www.request402.com/server-location</a><br />
{
    "headers": {
        "encoding": "gzip",
        "accept": "*/*",
        "User-Agent": "xxxxxx"
    },
    "server": {
        "loc": "xx,xx",
        "ip": "xx.xx.xx.xxx",
        "city": "Ashburn",
        "org": "AS14618 Amazon.com, Inc.",
        "hostname": "ec2.x.x.x.xxx",
        "region": "Virginia",
        "postal": "20149",
        "country": "US"
    }
}
</code>
        <p>
          Get the header, status, and trustworthiness of a domain.
        </p>
        <code><a href="/domain_status?format=json">$ 21 buy https://www.request402.com/domain_status?url=example.com</a><br />
{
    "headers": {
       "Content-Type": "text/html; charset=utf-8",
       "Date": "Fri, 26 Aug 2	016 22:27:32 GMT",
       "Transfer-Encoding": "chunked",
       "Connection": "close",
       "Server": "Apache",
       "Content-Security-Policy": "referrer no-referrer;"
   },
   "status": {
       "is-trustworthy": "yes",
       "200": "OK"
   }
}
</code>
        <p>
          Get the origin IP address of a domain.
        </p>
        <code><a href="/domain_ip?format=json">$ 21 buy https://www.request402.com/domain_ip?url=example.com</a><br />
{
  "ip_info": {
    "origin": "93.184.216.34",
    "url": "example.com"
  }
}
</code>
        <p>
          Get the rank of a domain.
        </p>
        <code><a href="/domain_rank?format=json">$ 21 buy https://www.request402.com/domain_rank?url=example.com</a><br />
{
  "domain-rank": {
      "rank-change": "-2837",
      "rank": "9766",
      "url": "example.com"
  }
}
</code>
        <p>
          Check the availability of a domain.
        </p>
        <code><a href="/domain_search?format=json">$ 21 buy https://www.request402.com/domain_search?url=example.com</a><br />
{
    "domain-search": {
        "tld": {
            "iana_url": "https://www.iana.org/domains/root/db/com.html",
            "wikipedia_url": "https://en.wikipedia.org/wiki/.com",
            "domain": "com"
        },
        "whois_url": "http://who.is/whois/example.com",
        "availability": "taken"
    }
}
</code>
        <p>
          Check the social statistics of a domain.
        </p>
        <code><a href="/domain_social_stats?format=json">$ 21 buy https://www.request402.com/domain_social_stats?url=example.com</a><br />
{
    "social-stats": {
        "domain": "example.com",
        "google": 72431,
        "linkedin": 0,
        "pinterest": 1,
        "stumbleupon": 5882,
    }
}
</code>
        <p>
          Capture a screenshot of a domain.
        </p>
        <code><a href="/domain_screenshot?format=json">$ 21 buy https://www.request402.com/domain_screenshot?url=example.com</a><br />
{
    "screenshot": {
        "domain": "example.com",
        "url": "d3sikw9bo1fj7a.cloudfront.net/images/6526390290cda254e17594e615615420.png"
    }
}
</code
        <p>
          Returns detailed SSL/TLS data of a domain.
        </p>
        <code><a href="/ssl?format=json">$ 21 buy https://www.request402.com/ssl?url=example.com</a><br />
{
  "ssl-info": {
      "certificate": "http://******.crt",
      "issuer": {
          "commonName": "******",
          "organizationName": "******",
          "countryName": "**",
          "organizationalUnitName": "www.*******.com"
      },
      "dns": [
          "www.example.org",
          "example.com",
          "example.edu",
          "example.net",
          "example.org",
          "www.example.com",
          "www.example.edu",
          "www.example.net"
      ],
      "status-protocol": "http://******.com",
      "org-info": {
          "commonName": "www.example.org",
          "stateOrProvinceName": "******",
          "organizationName": "******",
          "localityName": "******",
          "countryName": "**",
          "organizationalUnitName": "******"
      },
      "serial-number": "******"
  }
}
</code>
        <p>
          Return public key of SSL certificate for verification.
        </p>
        <code><a href="ssl-cert/?format=json">$ 21 buy https://www.request402.com/ssl-cert?url=example.com</a><br />
  -----BEGIN CERTIFICATE-----
  ******
  ******
  ******
  -----END CERTIFICATE-----
</code>
        <p>
          Return status of domain name and if it is on any blacklist.
        </p>
        <code><a href="/blacklist?format=json">$ 21 buy https://www.request402.com/blacklist?url=example.com</a><br />
{
  "baddomain-info": {
    "type": "baddomain",
    "response": {
        "source_ip": {
            "is_quarantined": xx,
            "score": x,
            "geo": {},
            "blacklist": []
        },
        "score": x,
        "domain": {
            "blacklist_mx": [],
            "mx": [xxxxxx],
            "blacklist_ns": [],
            "ns": [
                "xxxxxx.com.",
                "xxxxxx.com."
            ],
            "score": x,
            "blacklist": []
        },
        "ip": {
            "is_quarantined": xx,
            "score": x,
            "geo": {
                "country": "xx",
                "continent": "xx",
                "city": "",
                "region": "",
                "longitude": xx.xxx,
                "latitude": xx.xxx,
                "postal": "",
                "as": {
                    "name": "xxxxxx",
                    "country": "xx",
                    "asn": "xxxxxx",
                    "networks": "['xx.xx.xxx.x/xx']"
                },
                "address": "xxx.xxx.xxx.xxx",
                "hostname": ""
            },
            "blacklist": []
         }
      }
   }
}
</code>
        <!--googleoff: all-->
          <h3>How to use in your own applications:</h3>
          <p>
           Use the Request402 Library in your own apps. Here are a couple of code 
           templates that can easily be used as starters to incorporate the API.
         </p>
         <p>Simple Command Line Application:</p>
        <code># Copy and save this code as example.py
# run ---> $ python3 example.py

from two1.wallet import Wallet
from two1.bitrequests import BitTransferRequests

wallet = Wallet()
requests = BitTransferRequests(wallet)

@app.route('/')
def fetch_server_info():
    response = requests.get('https://www.request402.com/server-location')
    ip_addr = response.json()['server']['ip']
    region = response.json()['server']['region']
    print("Your IP address is %s and the server is located in %s."
           % (ip_addr, region))

if __name__ == '__main__':
    fetch_server_info()
</code>
        <p>Example Flask Application:</p>
        <code># Copy and save this code as flask-example.py
# run ---> $ python3 flask-example.py
# Open http://localhost:5001/ in your browser.
# Use a tool like ngrok for a secure tunnel to localhost.
# The app should launch in your browser.

from flask import Flask
from two1.wallet import Wallet
from two1.bitrequests import BitTransferRequests

app = Flask(__name__)
wallet = Wallet()
requests = BitTransferRequests(wallet)

@app.route('/')
def fetch_server_info():
    response = requests.get('https://www.request402.com/server-location')
    ip_addr = response.json()['server']['ip']
    region = response.json()['server']['region']
    return ("Your IP address is %s and the server is located in %s."
           % (ip_addr, region))

if __name__ == '__main__':
    app.run("::", port=5001)
</code>
        
        <!--googleon: all-->

      <footer>
          <img alt="logo" src="//machine-payable.herokuapp.com/static/img/heartbeat.ico" width="70">
      </footer>
    </div>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-84962779-1', 'auto');
  ga('send', 'pageview');
  </script> 
  </body>
</html>
